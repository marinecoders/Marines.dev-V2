---
import Layout from '@layouts/Layout.astro';
import Hero from '@components/sections/Hero.svelte';
import MaxWidthContainer from '@components/sections/MaxWidthContainer.svelte';
import FooterFull from '@components/FooterFull.svelte';
import { displaySiteBanner } from '@components/stores.js';
import ContentImageFull from '@components/sections/ContentImageFull.svelte';
import { externalLinks } from '@content/externalLinks.js';
import '../../styles/global.css';
import '../../styles/fonts.css';

const posts = await Astro.glob('../../content/roles/*.md');
displaySiteBanner.set(false);

const { frontmatter, compiledContent } = Astro.props;
---

<Layout title="Roles">
  <Hero
    client:only="svelte"
    title="PICK THE PERFECT ROLE FOR YOU"
    titleClasses="w-72 md:w-96"
    backgroundImg="/images/mcswf_instruction_wide.png"
    link={externalLinks.miusite}
    externalLink={true}
    linkText="APPLY NOW"
    description = {"Marine Coders is a section within the Marine Innovation Unit. Applicants are limited to reservists or Active Duty Marines interested in Direct Affiliating to the Marine Corps Reserves. \n\n MIU manages hiring and onboarding for new MIU Marines on a rolling basis, based on available billets and required skillsets. Hiring and onboarding is currently closed for the remainder of FY25, and will reopen in FY26."}

  />
  <MaxWidthContainer>
    {
      posts.map((post, index) => {
        return (
          <ContentImageFull
            title={post.frontmatter.role}
            titleClasses="text-white"
            content={post.frontmatter.about}
            link={'/roles/' + post.frontmatter.url}
            linkText="LEARN MORE"
            image={`/images/${post.frontmatter.image}`}
            imageAltText={post.frontmatter.image_alt_text}
            imagePosition={index % 2 === 0 ? 'right' : 'left'}
          />
        );
      })
    }
  </MaxWidthContainer>
  <FooterFull client:only="svelte" />
</Layout>
